import React from "react";
import { Link as RouterLink } from "react-router-dom";

//material
import {
  Grid,
  Button,
  AppBar,
  Typography,
  useTheme,
  useMediaQuery,
  CssBaseline,
  Toolbar,
} from "@material-ui/core";
import { makeStyles } from "@material-ui/styles";

import logo from "../../assets/wso2_logo.png";

//components
import HeaderDrawer from "./HeaderDrawer";

const useStyles = makeStyles(() => ({
  buttonStyle: {
    lineHeight: "2.5",
    fontSize: "26px",
    textTransform: "capitalize",
    color: "white",
  },
  appBarStyle: { height: "60px" },
  containerStyle: { position: "absolute", left: "3vw" },
  gridStyle: { alignSelf: "center" },
  logoStyle: { height: "undefined", width: "80px" },
  portalTextStyle: {
    position: "absolute",
    right: "5vw",
    lineHeight: "2.5",
    fontSize: "26px",
    color: "white",
  },
}));

const Header = ({ portal, branch }) => {
  const classes = useStyles();
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down("md"));

  return (
    <>
      <AppBar position="static" color="primary" className={classes.appBarStyle}>
        <CssBaseline />
        <Toolbar>
          <Grid container className={classes.containerStyle}>
            <Grid className={classes.gridStyle}>
              <img src={logo} className={classes.logoStyle} alt="Wso2" />
            </Grid>
            <Grid>
              <Button
                to="/"
                size="large"
                component={RouterLink}
                className={classes.buttonStyle}
              >
                Home
              </Button>
            </Grid>
          </Grid>
          {isMobile ? (
            <HeaderDrawer portal={portal} branch={branch} />
          ) : (
            <>
              <Typography
                color="inherit"
                component="div"
                className={classes.portalTextStyle}
              >
                <b>
                  {portal[0].toUpperCase() + portal.substring(1)}[{branch}]
                </b>
              </Typography>
            </>
          )}
        </Toolbar>
      </AppBar>
    </>
  );
};

export default Header;
