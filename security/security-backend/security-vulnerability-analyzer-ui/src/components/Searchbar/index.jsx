import React from "react";
import { OutlinedInput, InputAdornment, Grid, Button } from "@material-ui/core";
import { CloseRounded } from "@material-ui/icons";
import { makeStyles } from "@material-ui/styles";

//components
import Iconify from "./Iconify";

const useStyles = makeStyles(() => ({
  buttonStyleSearch: {
    textTransform: "capitalize",
    height: "52px",
    width: "100%",
  },
}));

const Searchbar = ({
  clearSearchQuery,
  handleClearSearchQuery,
  searchQuery,
  handleSearchQuery,
  handleFilterByName,
}) => {
  const classes = useStyles();

  return (
    <>
      <Grid item xs={8} md={5} style={{ marginBottom: "1vh" }}>
        <OutlinedInput
          value={searchQuery}
          onChange={handleSearchQuery}
          style={{ width: "98%" }}
          placeholder="Search Vulnerability..."
          startAdornment={
            <InputAdornment position="start">
              <Iconify icon="eva:search-fill" sx={{ color: "text.disabled" }} />
            </InputAdornment>
          }
        />
      </Grid>
      <Grid item xs={3} md={1}>
        <Button
          variant="contained"
          onClick={handleFilterByName}
          className={classes.buttonStyleSearch}
        >
          Search
        </Button>
      </Grid>
      {clearSearchQuery ? (
        <Grid item xs={1} md={1}>
          <Button
            onClick={handleClearSearchQuery}
            style={{ height: "52px" }}
            color="secondary"
          >
            <CloseRounded />
          </Button>
        </Grid>
      ) : (
        <Grid item xs={1} md={1}></Grid>
      )}
    </>
  );
};

export default Searchbar;
